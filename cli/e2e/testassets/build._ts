import { createBuilder, task } from "../denogent/lib/mod.ts";
import { createGitHubActions } from "../denogent/lib/ci/gh-actions/mod.ts";

const taskA = task('taskA')
    .does(async ctx => {
        ctx?.logger.debug('hello A');
    });

const taskB = task('taskB')
    .dependsOn(taskA)
    .does(async ctx => {
        ctx?.logger.info('hello B');
    });

createBuilder({
    name: 'build',
    targetTasks: taskB,
    ciIntegrations: [
        createGitHubActions({
            image: 'ubuntu-latest'
        })
    ] // define CI integrations here
});
