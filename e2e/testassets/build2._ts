import { createBuilder, task, createGitHubActions } from "../denogent/mod.ts";

const taskA = task('taskA')
    .does(async ctx => {
        ctx?.logger.debug('hello A');
    });

const taskB = task('taskB')
    .dependsOn(taskA)
    .does(async ctx => {
        ctx?.logger.info('hello B');
    });

createBuilder({
    name: 'build',
    targetTasks: taskB,
    ciIntegrations: [
        createGitHubActions({
            image: 'ubuntu-latest',
            label: 'buildA'
        }),
        createGitHubActions({
            image: 'ubuntu-latest',
            label: 'buildB'
        })
    ] // define CI integrations here
});
